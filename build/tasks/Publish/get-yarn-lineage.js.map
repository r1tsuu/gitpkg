{"version":3,"file":"get-yarn-lineage.js","names":["yarnLineage","undefined","getYarnLineage","stdout","execa","parseInt","e","setYarnLineageForTesting","value"],"sources":["../../../src/tasks/Publish/get-yarn-lineage.js"],"sourcesContent":["import execa from 'execa';\n\nlet yarnLineage = undefined;\n\nexport default async function getYarnLineage() {\n  if (yarnLineage !== undefined) {\n    return yarnLineage;\n  }\n\n  try {\n    const {stdout} = await execa('yarn', ['--version']);\n    yarnLineage = parseInt(stdout) > 1\n      ? 'berry'\n      : 'classic';\n  } catch (e) {\n    yarnLineage = null;\n  }\n\n  return yarnLineage;\n}\n\nexport function setYarnLineageForTesting(value) {\n  yarnLineage = value;\n}\n"],"mappings":";;;;;;;;AAAA;;;;AAEA,IAAIA,WAAW,GAAGC,SAAlB;;AAEe,eAAeC,cAAf,GAAgC;EAC7C,IAAIF,WAAW,KAAKC,SAApB,EAA+B;IAC7B,OAAOD,WAAP;EACD;;EAED,IAAI;IACF,MAAM;MAACG;IAAD,IAAW,MAAM,IAAAC,cAAA,EAAM,MAAN,EAAc,CAAC,WAAD,CAAd,CAAvB;IACAJ,WAAW,GAAGK,QAAQ,CAACF,MAAD,CAAR,GAAmB,CAAnB,GACV,OADU,GAEV,SAFJ;EAGD,CALD,CAKE,OAAOG,CAAP,EAAU;IACVN,WAAW,GAAG,IAAd;EACD;;EAED,OAAOA,WAAP;AACD;;AAEM,SAASO,wBAAT,CAAkCC,KAAlC,EAAyC;EAC9CR,WAAW,GAAGQ,KAAd;AACD"}